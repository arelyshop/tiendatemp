<!DOCTYPE html>
<html lang="es" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arelyshop.com - Página Principal</title>
    <link rel="icon" href="/images/favicon.svg" type="image/svg+xml">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .banner-carousel-container {
            overflow: hidden;
            position: relative;
        }
        .banner-carousel-track {
            display: flex;
            transition: transform 0.5s ease-in-out;
        }
        .banner-carousel-slide {
            min-width: 100%;
            box-sizing: border-box;
        }
        /* Cart animation */
        @keyframes cart-bounce {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.2);
            }
        }
        .cart-bounce-animation {
            animation: cart-bounce 0.5s ease;
        }
        /* Product title fade */
        .product-title-container {
            height: 2.5em; /* 1.25em line-height * 2 */
            overflow: hidden;
            position: relative;
        }
        .product-title-container h3 {
            line-height: 1.25em;
        }
        .product-title-container::after {
            content: '';
            position: absolute;
            bottom: 0;
            right: 0;
            width: 100%;
            height: 1.25em; /* Height of the fade, equal to one line */
            background: linear-gradient(to top, white, rgba(255, 255, 255, 0));
        }
        /* Custom scrollbar for search results */
        .search-results-container::-webkit-scrollbar {
            width: 8px;
        }
        .search-results-container::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        .search-results-container::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 4px;
        }
        .search-results-container::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen flex flex-col">

    <!-- Promotional Banner -->
    <div id="promo-banner" class="bg-[#4F07C8] p-1 relative text-center z-50">
        <a href="#">
             <picture>
                <source media="(max-width: 767px)" srcset="/images/banner-movil.webp">
                <source media="(min-width: 768px)" srcset="/images/banner-escritorio.webp">
                <img src="/images/banner-escritorio.webp" alt="aniversario" loading="lazy" class="inline-block h-8 md:h-10 w-auto">
            </picture>
        </a>
        <button onclick="document.getElementById('promo-banner').style.display='none'" class="absolute top-1/2 right-4 -translate-y-1/2 text-white text-2xl font-bold">&times;</button>
    </div>

    <!-- Header Section -->
    <header class="bg-white shadow-md sticky top-0 z-50">
        <!-- Mobile Header -->
        <div class="md:hidden bg-black text-white p-2">
            <div class="container mx-auto">
                <div class="flex items-center justify-between space-x-2">
                    <!-- Mobile Menu Button -->
                    <button id="mobile-menu-btn" class="flex flex-col items-center justify-center p-1">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" viewBox="0 -960 960 960" fill="currentColor"><path d="M120-240v-80h720v80H120Zm0-200v-80h720v80H120Zm0-200v-80h720v80H120Z"/></svg>
                        <span class="text-[0.54rem] font-semibold -mt-1">MENÚ</span>
                    </button>
                    
                    <!-- Logo and Search Bar -->
                    <div class="flex-1 flex items-center space-x-3">
                        <a href="index.html" class="h-9 flex-shrink-0">
                           <img src="/images/logo-movil.svg" alt="Arelyshop" class="h-full w-auto">
                        </a>
                        <div class="relative flex-1" id="mobile-search-container">
                            <input id="mobile-search-input" class="w-full pl-8 pr-4 py-2 text-sm text-gray-900 rounded-full focus:outline-none" autocomplete="off" type="text" placeholder="¿Qué estás buscando?" enterkeyhint="search">
                            <div class="absolute left-2 top-1/2 -translate-y-1/2">
                                <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
                            </div>
                             <!-- Search results popup for mobile -->
                            <div id="mobile-search-results" class="search-results-container absolute top-full mt-2 w-full bg-white rounded-lg shadow-lg hidden z-[60] max-h-80 overflow-y-auto"></div>
                        </div>
                    </div>
                    
                    <!-- Mobile Cart -->
                    <button id="mobile-cart-btn" class="relative p-1">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-7 h-7" viewBox="0 -960 960 960" fill="currentColor"><path d="M280-80q-33 0-56.5-23.5T200-160q0-33 23.5-56.5T280-240q33 0 56.5 23.5T360-160q0 33-23.5 56.5T280-80Zm400 0q-33 0-56.5-23.5T600-160q0-33 23.5-56.5T680-240q33 0 56.5 23.5T760-160q0 33-23.5 56.5T680-80ZM246-720l96 200h280l110-200H246Zm-38-80h590q23 0 35 20.5t1 41.5L692-482q-11 20-29.5 31T622-440H324l-44 80h480v80H280q-45 0-68-39.5t-2-78.5l54-98-144-304H40v-80h130l38 80Zm134 280h280-280Z"/></svg>
                        <span id="mobile-cart-count" class="absolute -top-1 -right-1 bg-[#25d366] text-white text-xs font-bold rounded-full h-4 w-4 flex items-center justify-center">0</span>
                    </button>
                </div>
            </div>
        </div>


        <!-- Desktop Header -->
        <div class="hidden md:block bg-black text-white">
            <div class="container mx-auto px-4">
                <div class="flex justify-between items-center py-3">
                    <!-- Desktop Logo -->
                    <div class="flex items-center space-x-4">
                        <a href="index.html">
                            <img src="/images/logo-escritorio.svg" alt="Arelyshop" class="h-10 w-auto">
                        </a>
                    </div>

                    <!-- Desktop Search Bar -->
                    <div class="flex-1 max-w-2xl mx-4 relative" id="desktop-search-container">
                        <div class="relative">
                            <input type="text" id="desktop-search-input" placeholder="¿Qué estás buscando?" class="w-full pl-10 pr-4 py-2 text-gray-900 rounded-full focus:outline-none focus:ring-2 focus:ring-white" autocomplete="off">
                            <div class="absolute left-4 top-1/2 -translate-y-1/2">
                                <svg class="h-5 w-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" /></svg>
                            </div>
                        </div>
                        <!-- Search results popup for desktop -->
                        <div id="desktop-search-results" class="search-results-container absolute top-full mt-2 w-full bg-white rounded-lg shadow-lg hidden z-[60] max-h-96 overflow-y-auto"></div>
                    </div>
                    
                    <!-- Desktop Icons -->
                    <div class="flex items-center space-x-4">
                        <a href="https://www.google.com/maps/place/17%C2%B049'00.4%22S+63%C2%B010'18.8%22W" target="_blank" rel="noopener noreferrer" class="flex items-center space-x-2 hover:opacity-80 transition">
                            <img src="/images/location-icon.svg" alt="Ubicación" class="h-8 w-8">
                            <div class="text-left text-xs">
                                <p>Ubicación de</p>
                                <p class="font-semibold text-sm">Nuestra Tienda</p>
                            </div>
                        </a>
                        <a href="https://wa.me/59167500044" target="_blank" rel="noopener noreferrer" class="flex items-center space-x-2 hover:opacity-80 transition">
                           <img src="/images/whatsapp-icon.svg" alt="WhatsApp" class="h-8 w-8">
                            <div class="text-left text-xs">
                                <p>Contáctanos</p>
                                <p class="font-semibold text-sm">por WhatsApp!</p>
                            </div>
                        </a>
                        <button id="desktop-cart-btn" class="relative flex items-center space-x-2 hover:opacity-80 transition">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" viewBox="0 -960 960 960" fill="currentColor"><path d="M280-80q-33 0-56.5-23.5T200-160q0-33 23.5-56.5T280-240q33 0 56.5 23.5T360-160q0 33-23.5 56.5T280-80Zm400 0q-33 0-56.5-23.5T600-160q0-33 23.5-56.5T680-240q33 0 56.5 23.5T760-160q0 33-23.5 56.5T680-80ZM246-720l96 200h280l110-200H246Zm-38-80h590q23 0 35 20.5t1 41.5L692-482q-11 20-29.5 31T622-440H324l-44 80h480v80H280q-45 0-68-39.5t-2-78.5l54-98-144-304H40v-80h130l38 80Zm134 280h280-280Z"/></svg>
                            <span id="desktop-cart-count" class="absolute -top-1 -right-1 bg-[#25d366] text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center">0</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Desktop Static Nav Bar -->
        <div class="hidden md:block bg-white shadow-md">
            <div class="container mx-auto">
                <div class="md:w-[85%] md:mx-auto">
                    <nav class="grid grid-cols-6 gap-2 text-center items-center py-0.5">
                        <a href="index.html" class="block py-1 px-2 text-gray-800 font-semibold hover:bg-gray-100 rounded-lg transition-colors">Inicio</a>
                        <a href="#" class="block py-1 px-2 text-gray-800 font-semibold hover:bg-gray-100 rounded-lg transition-colors">Ver Catálogo</a>
                        
                        <!-- Categories Dropdown -->
                        <div class="relative" id="desktop-categories-dropdown-container">
                            <button id="desktop-categories-btn" class="flex items-center justify-center w-full py-1 px-2 text-gray-800 font-semibold hover:bg-gray-100 rounded-lg transition-colors">
                                <span>Categorías</span>
                                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#1F2937"><path d="M480-344 240-584l56-56 184 184 184-184 56 56-240 240Z"/></svg>
                            </button>
                            <div id="desktop-categories-submenu" class="absolute left-0 top-full pt-2 w-48 bg-white rounded-md shadow-lg hidden z-50 text-left">
                                <!-- Dynamic categories will be injected here -->
                            </div>
                        </div>

                        <!-- Marcas Dropdown -->
                        <div class="relative" id="desktop-marcas-dropdown-container">
                            <button id="desktop-marcas-btn" class="flex items-center justify-center w-full py-1 px-2 text-gray-800 font-semibold hover:bg-gray-100 rounded-lg transition-colors">
                                <span>Marcas</span>
                                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#1F2937"><path d="M480-344 240-584l56-56 184 184 184-184 56 56-240 240Z"/></svg>
                            </button>
                            <div id="desktop-marcas-submenu" class="absolute left-0 top-full pt-2 w-48 bg-white rounded-md shadow-lg hidden z-50 text-left">
                                <!-- Dynamic brands will be injected here -->
                            </div>
                        </div>

                        <a href="#" class="flex items-center justify-center py-1 px-2 text-red-600 font-semibold hover:bg-gray-100 rounded-lg transition-colors">
                            <svg class="w-5 h-5 mr-1" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path fill-rule="evenodd" clip-rule="evenodd" d="M9.5924 3.20027C9.34888 3.4078 9.22711 3.51158 9.09706 3.59874C8.79896 3.79854 8.46417 3.93721 8.1121 4.00672C7.95851 4.03705 7.79903 4.04977 7.48008 4.07522C6.6787 4.13918 6.278 4.17115 5.94371 4.28923C5.17051 4.56233 4.56233 5.17051 4.28923 5.94371C4.17115 6.278 4.13918 6.6787 4.07522 7.48008C4.04977 7.79903 4.03705 7.95851 4.00672 8.1121C3.93721 8.46417 3.79854 8.79896 3.59874 9.09706C3.51158 9.22711 3.40781 9.34887 3.20027 9.5924C2.67883 10.2043 2.4181 10.5102 2.26522 10.8301C1.91159 11.57 1.91159 12.43 2.26522 13.1699C2.41811 13.4898 2.67883 13.7957 3.20027 14.4076C3.40778 14.6511 3.51158 14.7729 3.59874 14.9029C3.79854 15.201 3.93721 15.5358 4.00672 15.8879C4.03705 16.0415 4.04977 16.201 4.07522 16.5199C4.13918 17.3213 4.17115 17.722 4.28923 18.0563C4.56233 18.8295 5.17051 19.4377 5.94371 19.7108C6.278 19.8288 6.6787 19.8608 7.48008 19.9248C7.79903 19.9502 7.95851 19.963 8.1121 19.9933C8.46417 20.0628 8.79896 20.2015 9.09706 20.4013C9.22711 20.4884 9.34887 20.5922 9.5924 20.7997C10.2043 21.3212 10.5102 21.5819 10.8301 21.7348C11.57 22.0884 12.43 22.0884 13.1699 21.7348C13.4898 21.5819 13.7957 21.3212 14.4076 20.7997C14.6511 20.5922 14.7729 20.4884 14.9029 20.4013C15.201 20.2015 15.5358 20.0628 15.8879 19.9933C16.0415 19.963 16.201 19.9502 16.5199 19.9248C17.3213 19.8608 17.722 19.8288 18.0563 19.7108C18.8295 19.4377 19.4377 18.8295 19.7108 18.0563C19.8288 17.722 19.8608 17.3213 19.9248 16.5199C19.9502 16.201 19.963 16.0415 19.9933 15.8879C20.0628 15.5358 20.2015 15.201 20.4013 14.9029C20.4884 14.7729 20.5922 14.6511 20.7997 14.4076C21.3212 13.7957 21.5819 13.4898 21.7348 13.1699C22.0884 12.43 22.0884 11.57 21.7348 10.8301C21.5819 10.5102 21.3212 10.2043 20.7997 9.5924C20.5922 9.34887 20.4884 9.22711 20.4013 9.09706C20.2015 8.79896 20.0628 8.46417 19.9933 8.1121C19.963 7.95851 19.9502 7.79903 19.9248 7.48008C19.8608 6.6787 19.8288 6.278 19.7108 5.94371C19.4377 5.17051 18.8295 4.56233 18.0563 4.28923C17.722 4.17115 17.3213 4.13918 16.5199 4.07522C16.201 4.04977 16.0415 4.03705 15.8879 4.00672C15.5358 3.93721 15.201 3.79854 14.9029 3.59874C14.7729 3.51158 14.6511 3.40781 14.4076 3.20027C13.7957 2.67883 13.4898 2.41811 13.1699 2.26522C12.43 1.91159 11.57 1.91159 10.8301 2.26522C10.5102 2.4181 10.2043 2.67883 9.5924 3.20027ZM15.8309 8.16959C16.1487 8.48742 16.1487 9.00273 15.8309 9.32056L9.32003 15.8314C9.0022 16.1493 8.48689 16.1493 8.16906 15.8314C7.85123 15.5136 7.85123 14.9983 8.16906 14.6805L14.6799 8.16959C14.9978 7.85176 15.5131 7.85176 15.8309 8.16959ZM15.798 14.7134C15.798 15.3127 15.3122 15.7985 14.7129 15.7985C14.1135 15.7985 13.6277 15.3127 13.6277 14.7134C13.6277 14.1141 14.1135 13.6282 14.7129 13.6282C15.3122 13.6282 15.798 14.1141 15.798 14.7134ZM9.28712 10.3728C9.88643 10.3728 10.3723 9.88696 10.3723 9.28765C10.3723 8.68834 9.88643 8.2025 9.28712 8.2025C8.68781 8.2025 8.20197 8.68834 8.20197 9.28765C8.20197 9.88696 8.68781 10.3728 9.28712 10.3728Z" fill="#ff0000"></path></g></svg>
                            OFERTAS
                        </a>
                        <a href="#" class="block py-1 px-2 text-gray-800 font-semibold hover:bg-gray-100 rounded-lg transition-colors">Contacto</a>
                    </nav>
                </div>
            </div>
        </div>
    </header>

    <!-- Sidenav Menu (For Mobile) -->
    <div id="sidenav-overlay" class="fixed inset-0 bg-black bg-opacity-50 z-40 hidden md:hidden"></div>
    <div id="sidenav" class="fixed top-0 left-0 w-72 bg-white shadow-lg transform -translate-x-full transition-transform duration-300 ease-in-out z-40 md:hidden flex flex-col">
        <div class="flex justify-between items-center py-2 px-4 border-b flex-shrink-0">
            <h2 class="text-xl font-bold">MENÚ</h2>
            <button id="close-sidenav" class="flex flex-col items-center justify-center p-1">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" viewBox="0 -960 960 960" fill="currentColor"><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg>
                <span class="text-[0.54rem] font-semibold -mt-1">CERRAR</span>
            </button>
        </div>
        <nav class="p-4 flex-grow overflow-y-auto">
            <a href="index.html" class="block py-3 px-4 text-gray-700 font-medium hover:bg-gray-100 rounded-lg transition-colors">Inicio</a>
            <a href="#" class="block py-3 px-4 text-gray-700 font-medium hover:bg-gray-100 rounded-lg transition-colors">Ver Catálogo</a>

            <!-- Mobile Categories Accordion -->
            <div>
                <button id="mobile-categories-btn" class="flex justify-between items-center w-full py-3 px-4 text-gray-700 font-medium hover:bg-gray-100 rounded-lg transition-colors">
                    <span>Categorías</span>
                    <svg id="mobile-categories-arrow" class="w-5 h-5 transition-transform" xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="currentColor"><path d="M480-344 240-584l56-56 184 184 184-184 56 56-240 240Z"/></svg>
                </button>
                <div id="mobile-categories-submenu" class="hidden pl-8">
                    <!-- Dynamic categories will be injected here -->
                </div>
            </div>

            <!-- Mobile Marcas Accordion -->
            <div>
                <button id="mobile-marcas-btn" class="flex justify-between items-center w-full py-3 px-4 text-gray-700 font-medium hover:bg-gray-100 rounded-lg transition-colors">
                    <span>Marcas</span>
                    <svg id="mobile-marcas-arrow" class="w-5 h-5 transition-transform" xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="currentColor"><path d="M480-344 240-584l56-56 184 184 184-184 56 56-240 240Z"/></svg>
                </button>
                <div id="mobile-marcas-submenu" class="hidden pl-8">
                    <!-- Dynamic brands will be injected here -->
                </div>
            </div>
            
            <a href="#" class="flex items-center py-3 px-4 text-red-600 font-medium hover:bg-gray-100 rounded-lg transition-colors">
                <svg class="w-5 h-5 mr-1" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path fill-rule="evenodd" clip-rule="evenodd" d="M9.5924 3.20027C9.34888 3.4078 9.22711 3.51158 9.09706 3.59874C8.79896 3.79854 8.46417 3.93721 8.1121 4.00672C7.95851 4.03705 7.79903 4.04977 7.48008 4.07522C6.6787 4.13918 6.278 4.17115 5.94371 4.28923C5.17051 4.56233 4.56233 5.17051 4.28923 5.94371C4.17115 6.278 4.13918 6.6787 4.07522 7.48008C4.04977 7.79903 4.03705 7.95851 4.00672 8.1121C3.93721 8.46417 3.79854 8.79896 3.59874 9.09706C3.51158 9.22711 3.40781 9.34887 3.20027 9.5924C2.67883 10.2043 2.4181 10.5102 2.26522 10.8301C1.91159 11.57 1.91159 12.43 2.26522 13.1699C2.41811 13.4898 2.67883 13.7957 3.20027 14.4076C3.40778 14.6511 3.51158 14.7729 3.59874 14.9029C3.79854 15.201 3.93721 15.5358 4.00672 15.8879C4.03705 16.0415 4.04977 16.201 4.07522 16.5199C4.13918 17.3213 4.17115 17.722 4.28923 18.0563C4.56233 18.8295 5.17051 19.4377 5.94371 19.7108C6.278 19.8288 6.6787 19.8608 7.48008 19.9248C7.79903 19.9502 7.95851 19.963 8.1121 19.9933C8.46417 20.0628 8.79896 20.2015 9.09706 20.4013C9.22711 20.4884 9.34887 20.5922 9.5924 20.7997C10.2043 21.3212 10.5102 21.5819 10.8301 21.7348C11.57 22.0884 12.43 22.0884 13.1699 21.7348C13.4898 21.5819 13.7957 21.3212 14.4076 20.7997C14.6511 20.5922 14.7729 20.4884 14.9029 20.4013C15.201 20.2015 15.5358 20.0628 15.8879 19.9933C16.0415 19.963 16.201 19.9502 16.5199 19.9248C17.3213 19.8608 17.722 19.8288 18.0563 19.7108C18.8295 19.4377 19.4377 18.8295 19.7108 18.0563C19.8288 17.722 19.8608 17.3213 19.9248 16.5199C19.9502 16.201 19.963 16.0415 19.9933 15.8879C20.0628 15.5358 20.2015 15.201 20.4013 14.9029C20.4884 14.7729 20.5922 14.6511 20.7997 14.4076C21.3212 13.7957 21.5819 13.4898 21.7348 13.1699C22.0884 12.43 22.0884 11.57 21.7348 10.8301C21.5819 10.5102 21.3212 10.2043 20.7997 9.5924C20.5922 9.34887 20.4884 9.22711 20.4013 9.09706C20.2015 8.79896 20.0628 8.46417 19.9933 8.1121C19.963 7.95851 19.9502 7.79903 19.9248 7.48008C19.8608 6.6787 19.8288 6.278 19.7108 5.94371C19.4377 5.17051 18.8295 4.56233 18.0563 4.28923C17.722 4.17115 17.3213 4.13918 16.5199 4.07522C16.201 4.04977 16.0415 4.03705 15.8879 4.00672C15.5358 3.93721 15.201 3.79854 14.9029 3.59874C14.7729 3.51158 14.6511 3.40781 14.4076 3.20027C13.7957 2.67883 13.4898 2.41811 13.1699 2.26522C12.43 1.91159 11.57 1.91159 10.8301 2.26522C10.5102 2.4181 10.2043 2.67883 9.5924 3.20027ZM15.8309 8.16959C16.1487 8.48742 16.1487 9.00273 15.8309 9.32056L9.32003 15.8314C9.0022 16.1493 8.48689 16.1493 8.16906 15.8314C7.85123 15.5136 7.85123 14.9983 8.16906 14.6805L14.6799 8.16959C14.9978 7.85176 15.5131 7.85176 15.8309 8.16959ZM15.798 14.7134C15.798 15.3127 15.3122 15.7985 14.7129 15.7985C14.1135 15.7985 13.6277 15.3127 13.6277 14.7134C13.6277 14.1141 14.1135 13.6282 14.7129 13.6282C15.3122 13.6282 15.798 14.1141 15.798 14.7134ZM9.28712 10.3728C9.88643 10.3728 10.3723 9.88696 10.3723 9.28765C10.3723 8.68834 9.88643 8.2025 9.28712 8.2025C8.68781 8.2025 8.20197 8.68834 8.20197 9.28765C8.20197 9.88696 8.68781 10.3728 9.28712 10.3728Z" fill="#ff0000"></path></g></svg>
                OFERTAS
            </a>
            <a href="#" class="block py-3 px-4 text-gray-700 font-medium hover:bg-gray-100 rounded-lg transition-colors">Contacto</a>
        </nav>
        <div class="p-4 border-t flex-shrink-0">
            <h3 class="font-medium text-gray-800 mb-3 text-center">¡Síguenos en Redes!</h3>
            <div class="flex space-x-4 justify-center">
                <a href="https://instagram.com/arelyshopbo" target="_blank" class="text-gray-700 hover:text-black">
                    <svg class="w-6 h-6" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path fill-rule="evenodd" clip-rule="evenodd" d="M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18ZM12 16C14.2091 16 16 14.2091 16 12C16 9.79086 14.2091 8 12 8C9.79086 8 8 9.79086 8 12C8 14.2091 9.79086 16 12 16Z" fill="currentColor"></path> <path d="M18 5C17.4477 5 17 5.44772 17 6C17 6.55228 17.4477 7 18 7C18.5523 7 19 6.55228 19 6C19 5.44772 18.5523 5 18 5Z" fill="currentColor"></path> <path fill-rule="evenodd" clip-rule="evenodd" d="M1.65396 4.27606C1 5.55953 1 7.23969 1 10.6V13.4C1 16.7603 1 18.4405 1.65396 19.7239C2.2292 20.8529 3.14708 21.7708 4.27606 22.346C5.55953 23 7.23969 23 10.6 23H13.4C16.7603 23 18.4405 23 19.7239 22.346C20.8529 21.7708 21.7708 20.8529 22.346 19.7239C23 18.4405 23 16.7603 23 13.4V10.6C23 7.23969 23 5.55953 22.346 4.27606C21.7708 3.14708 20.8529 2.2292 19.7239 1.65396C18.4405 1 16.7603 1 13.4 1H10.6C7.23969 1 5.55953 1 4.27606 1.65396C3.14708 2.2292 2.2292 3.14708 1.65396 4.27606ZM13.4 3H10.6C8.88684 3 7.72225 3.00156 6.82208 3.0751C5.94524 3.14674 5.49684 3.27659 5.18404 3.43597C4.43139 3.81947 3.81947 4.43139 3.43597 5.18404C3.27659 5.49684 3.14674 5.94524 3.0751 6.82208C3.00156 7.72225 3 8.88684 3 10.6V13.4C3 15.1132 3.00156 16.2777 3.0751 17.1779C3.14674 18.0548 3.27659 18.5032 3.43597 18.816C3.81947 19.5686 4.43139 20.1805 5.18404 20.564C5.49684 20.7234 5.94524 20.8533 6.82208 20.9249C7.72225 20.9984 8.88684 21 10.6 21H13.4C15.1132 21 16.2777 20.9984 17.1779 20.9249C18.0548 20.8533 18.5032 20.7234 18.816 20.564C19.5686 20.1805 20.1805 19.5686 20.564 18.816C20.7234 18.5032 20.8533 18.0548 20.9249 17.1779C20.9984 16.2777 21 15.1132 21 13.4V10.6C21 8.88684 20.9984 7.72225 20.9249 6.82208C20.8533 5.94524 20.7234 5.49684 20.564 5.18404C20.1805 4.43139 19.5686 3.81947 18.816 3.43597C18.5032 3.27659 18.0548 3.14674 17.1779 3.0751C16.2777 3.00156 15.1132 3 13.4 3Z" fill="currentColor"></path> </g></svg>
                </a>
                <a href="https://www.facebook.com/arelyshopbo" target="_blank" class="text-gray-700 hover:text-black">
                   <svg class="w-6 h-6" viewBox="-5 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="currentColor"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <title>facebook [#176]</title> <desc>Created with Sketch.</desc> <defs> </defs> <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="Dribbble-Light-Preview" transform="translate(-385.000000, -7399.000000)" fill="currentColor"> <g id="icons" transform="translate(56.000000, 160.000000)"> <path d="M335.821282,7259 L335.821282,7250 L338.553693,7250 L339,7246 L335.821282,7246 L335.821282,7244.052 C335.821282,7243.022 335.847593,7242 337.286884,7242 L338.744689,7242 L338.744689,7239.14 C338.744689,7239.097 337.492497,7239 336.225687,7239 C333.580004,7239 331.923407,7240.657 331.923407,7243.7 L331.923407,7246 L329,7246 L329,7250 L331.923407,7250 L331.923407,7259 L335.821282,7259 Z" id="facebook-[#176]"> </path> </g> </g> </g> </g></svg>
                </a>
                <a href="https://youtube.com/@diegofloresfilmmaker1168?si=ezBrvwsZyq8vD4fY" target="_blank" class="text-gray-700 hover:text-black">
                   <svg class="w-6 h-6" viewBox="0 -3 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="currentColor"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <title>youtube [#168]</title> <desc>Created with Sketch.</desc> <defs> </defs> <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="Dribbble-Light-Preview" transform="translate(-300.000000, -7442.000000)" fill="currentColor"> <g id="icons" transform="translate(56.000000, 160.000000)"> <path d="M251.988432,7291.58588 L251.988432,7285.97425 C253.980638,7286.91168 255.523602,7287.8172 257.348463,7288.79353 C255.843351,7289.62824 253.980638,7290.56468 251.988432,7291.58588 M263.090998,7283.18289 C262.747343,7282.73013 262.161634,7282.37809 261.538073,7282.26141 C259.705243,7281.91336 248.270974,7281.91237 246.439141,7282.26141 C245.939097,7282.35515 245.493839,7282.58153 245.111335,7282.93357 C243.49964,7284.42947 244.004664,7292.45151 244.393145,7293.75096 C244.556505,7294.31342 244.767679,7294.71931 245.033639,7294.98558 C245.376298,7295.33761 245.845463,7295.57995 246.384355,7295.68865 C247.893451,7296.0008 255.668037,7296.17532 261.506198,7295.73552 C262.044094,7295.64178 262.520231,7295.39147 262.895762,7295.02447 C264.385932,7293.53455 264.28433,7285.06174 263.090998,7283.18289" id="youtube-[#168]"> </path> </g> </g> </g> </g></svg>
                </a>
                <a href="https://www.tiktok.com/@arelyshopbo" target="_blank" class="text-gray-700 hover:text-black">
                   <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <title>tiktok</title> <path d="M16.656 1.029c1.637-0.025 3.262-0.012 4.886-0.025 0.054 2.031 0.878 3.859 2.189 5.213l-0.002-0.002c1.411 1.271 3.247 2.095 5.271 2.235l0.028 0.002v5.036c-1.912-0.048-3.71-0.489-5.331-1.247l0.082 0.034c-0.784-0.377-1.447-0.764-2.077-1.196l0.052 0.034c-0.012 3.649 0.012 7.298-0.025 10.934-0.103 1.853-0.719 3.543-1.707 4.954l0.020-0.031c-1.652 2.366-4.328 3.919-7.371 4.011l-0.014 0c-0.123 0.006-0.268 0.009-0.414 0.009-1.73 0-3.347-0.482-4.725-1.319l0.040 0.023c-2.508-1.509-4.238-4.091-4.558-7.094l-0.004-0.041c-0.025-0.625-0.037-1.25-0.012-1.862 0.49-4.779 4.494-8.476 9.361-8.476 0.547 0 1.083 0.047 1.604 0.136l-0.056-0.008c0.025 1.849-0.050 3.699-0.050 5.548-0.423-0.153-0.911-0.242-1.42-0.242-1.868 0-3.457 1.194-4.045 2.861l-0.009 0.030c-0.133 0.427-0.21 0.918-0.21 1.426 0 0.206 0.013 0.41 0.037 0.61l-0.002-0.024c0.332 2.046 2.086 3.59 4.201 3.59 0.061 0 0.121-0.001 0.181-0.004l-0.009 0c1.463-0.044 2.733-0.831 3.451-1.994l0.010-0.018c0.267-0.372 0.45-0.822 0.511-1.311l0.001-0.014c0.125-2.237 0.075-4.461 0.087-6.698 0.012-5.036-0.012-10.060 0.025-15.083z"></path></g></svg>
                </a>
                <a href="https://wa.me/59167500044" target="_blank" class="text-gray-700 hover:text-black">
                   <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M13.601 2.326A7.854 7.854 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.933 7.933 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.898 7.898 0 0 0 13.6 2.326zM7.994 14.521a6.573 6.573 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.557 6.557 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592zm3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.068-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198 0-.307.099-.405.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.729.729 0 0 0-.529.247c-.182.198-.691.677-.691 1.654 0 .977.71 1.916.81 2.049.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232z"/>
                    </svg>
                </a>
            </div>
        </div>
    </div>
    
    <!-- Main Content -->
    <main class="flex-grow">
        <div class="md:container md:mx-auto">
             <div class="md:w-[85%] md:mx-auto">
                <!-- Banner Carousel -->
                <section class="banner-carousel-container w-full md:rounded-lg overflow-hidden md:mt-8">
                    <div class="banner-carousel-track">
                        <div class="banner-carousel-slide">
                            <img src="/images/banner-1-showhome.webp" alt="Banner 1" class="w-full h-auto">
                        </div>
                        <div class="banner-carousel-slide">
                            <img src="/images/banner-2-showhome.webp" alt="Banner 2" class="w-full h-auto">
                        </div>
                        <div class="banner-carousel-slide">
                            <img src="/images/banner-3-showhome.webp" alt="Banner 3" class="w-full h-auto">
                        </div>
                        <div class="banner-carousel-slide">
                            <img src="/images/banner-4-showhome.webp" alt="Banner 4" class="w-full h-auto">
                        </div>
                    </div>
                    <!-- Controls -->
                    <button id="banner-prevBtn" class="absolute top-1/2 left-4 -translate-y-1/2 bg-white/50 hover:bg-white p-2 rounded-full shadow-md transition">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-800" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
                    </button>
                    <button id="banner-nextBtn" class="absolute top-1/2 right-4 -translate-y-1/2 bg-white/50 hover:bg-white p-2 rounded-full shadow-md transition">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-800" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" /></svg>
                    </button>
                    <!-- Dots -->
                    <div id="banner-dots-container" class="absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-2"></div>
                </section>
            </div>
        </div>
        
        <section class="container mx-auto px-4 md:px-0 mt-8">
            <div class="md:w-[85%] md:mx-auto">
                <h2 class="text-2xl font-bold text-center text-gray-800 mb-8">Productos Destacados</h2>
                <!-- Product Grid -->
                <div id="product-grid" class="grid grid-cols-2 md:grid-cols-5 gap-4">
                    <!-- Products will be injected here by JavaScript -->
                    <div class="col-span-full text-center text-gray-500" id="loading-message">
                        Cargando productos...
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- Floating Cart -->
    <div id="cart-overlay" class="fixed inset-0 bg-black bg-opacity-50 z-40 md:z-50 hidden"></div>
    <div id="cart-flyout" class="fixed top-0 right-0 h-full w-full md:max-w-sm bg-white shadow-lg transform translate-x-full transition-transform duration-300 ease-in-out z-40 md:z-50 flex flex-col">
        <!-- Cart Header -->
        <div class="flex justify-between items-center p-4 border-b flex-shrink-0">
            <h2 class="text-xl font-bold">Mi Carrito</h2>
            <button id="close-cart-btn" class="flex flex-col items-center justify-center p-1">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" viewBox="0 -960 960 960" fill="currentColor"><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"></path></svg>
                <span class="text-[0.54rem] font-semibold -mt-1">CERRAR</span>
            </button>
        </div>
        <!-- Cart Items -->
        <div id="cart-items-container" class="flex-grow p-4 overflow-y-auto">
             <!-- Items will be injected here by JavaScript -->
             <p class="text-gray-500 text-center">Tu carrito está vacío.</p>
        </div>
        <!-- Cart Footer -->
        <div class="p-4 border-t">
            <div class="flex justify-between items-center font-bold text-lg mb-4">
                <span>Total:</span>
                <span id="cart-total">Bs. 0.00</span>
            </div>
            <button id="whatsapp-order-btn" class="w-full bg-green-500 text-white py-3 rounded-lg font-semibold hover:bg-green-600 transition-colors flex items-center justify-center space-x-2">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="currentColor" viewBox="0 0 16 16">
                    <path d="M13.601 2.326A7.854 7.854 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.933 7.933 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.898 7.898 0 0 0 13.6 2.326zM7.994 14.521a6.573 6.573 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.557 6.557 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592zm3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.068-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198 0-.307.099-.405.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.729.729 0 0 0-.529.247c-.182.198-.691.677-.691 1.654 0 .977.71 1.916.81 2.049.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232z"/>
                </svg>
                <span>Realizar Pedido por WhatsApp</span>
            </button>
        </div>
    </div>
    
    <footer class="bg-black text-white mt-12">
        <div class="container mx-auto py-8 px-4">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <!-- ¿Quiénes somos? -->
                <div>
                    <img src="/images/logo-movil.svg" alt="Arelyshop" class="h-9 mb-4">
                    <p class="text-sm text-gray-400">
                        Arelyshop.com ofrece una amplia variedad de productos, desde accesorios para tu escritorio y mucho más.
                    </p>
                </div>
                <!-- Categorías -->
                <div>
                    <h3 class="font-bold text-lg mb-4">Categorías</h3>
                    <ul class="space-y-2 text-sm text-gray-400">
                        <li><a href="/" class="hover:underline">Inicio</a></li>
                        <li><a href="https://arelyshopbo.mitiendanube.com/productos/" class="hover:underline">Productos</a></li>
                        <li><a href="/contacto/" class="hover:underline">Contacto</a></li>
                    </ul>
                </div>
                <!-- Contactános -->
                <div>
                    <h3 class="font-bold text-lg mb-4">Contáctanos</h3>
                    <ul class="space-y-3 text-sm text-gray-400">
                        <li class="flex items-center">
                            <svg class="w-5 h-5 mr-3" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"></path></svg>
                            <a href="tel:67500044" class="hover:underline">67500044</a>
                        </li>
                        <li class="flex items-center">
                            <svg class="w-5 h-5 mr-3" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"></path><path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"></path></svg>
                            <a href="mailto:arelyshop@outlook.com" class="hover:underline">arelyshop@outlook.com</a>
                        </li>
                        <li class="flex items-center">
                            <svg class="w-5 h-5 mr-3" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd"></path></svg>
                            <span>Santa Cruz de la Sierra, Bolivia</span>
                        </li>
                    </ul>
                </div>
                <!-- ¡Síguenos en Redes! -->
                <div>
                    <h3 class="font-bold text-lg mb-4">¡Síguenos en Redes!</h3>
                    <div class="flex space-x-4">
                        <a href="https://instagram.com/arelyshopbo" target="_blank" class="text-gray-400 hover:text-white">
                            <svg class="w-6 h-6" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path fill-rule="evenodd" clip-rule="evenodd" d="M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18ZM12 16C14.2091 16 16 14.2091 16 12C16 9.79086 14.2091 8 12 8C9.79086 8 8 9.79086 8 12C8 14.2091 9.79086 16 12 16Z" fill="currentColor"></path> <path d="M18 5C17.4477 5 17 5.44772 17 6C17 6.55228 17.4477 7 18 7C18.5523 7 19 6.55228 19 6C19 5.44772 18.5523 5 18 5Z" fill="currentColor"></path> <path fill-rule="evenodd" clip-rule="evenodd" d="M1.65396 4.27606C1 5.55953 1 7.23969 1 10.6V13.4C1 16.7603 1 18.4405 1.65396 19.7239C2.2292 20.8529 3.14708 21.7708 4.27606 22.346C5.55953 23 7.23969 23 10.6 23H13.4C16.7603 23 18.4405 23 19.7239 22.346C20.8529 21.7708 21.7708 20.8529 22.346 19.7239C23 18.4405 23 16.7603 23 13.4V10.6C23 7.23969 23 5.55953 22.346 4.27606C21.7708 3.14708 20.8529 2.2292 19.7239 1.65396C18.4405 1 16.7603 1 13.4 1H10.6C7.23969 1 5.55953 1 4.27606 1.65396C3.14708 2.2292 2.2292 3.14708 1.65396 4.27606ZM13.4 3H10.6C8.88684 3 7.72225 3.00156 6.82208 3.0751C5.94524 3.14674 5.49684 3.27659 5.18404 3.43597C4.43139 3.81947 3.81947 4.43139 3.43597 5.18404C3.27659 5.49684 3.14674 5.94524 3.0751 6.82208C3.00156 7.72225 3 8.88684 3 10.6V13.4C3 15.1132 3.00156 16.2777 3.0751 17.1779C3.14674 18.0548 3.27659 18.5032 3.43597 18.816C3.81947 19.5686 4.43139 20.1805 5.18404 20.564C5.49684 20.7234 5.94524 20.8533 6.82208 20.9249C7.72225 20.9984 8.88684 21 10.6 21H13.4C15.1132 21 16.2777 20.9984 17.1779 20.9249C18.0548 20.8533 18.5032 20.7234 18.816 20.564C19.5686 20.1805 20.1805 19.5686 20.564 18.816C20.7234 18.5032 20.8533 18.0548 20.9249 17.1779C20.9984 16.2777 21 15.1132 21 13.4V10.6C21 8.88684 20.9984 7.72225 20.9249 6.82208C20.8533 5.94524 20.7234 5.49684 20.564 5.18404C20.1805 4.43139 19.5686 3.81947 18.816 3.43597C18.5032 3.27659 18.0548 3.14674 17.1779 3.0751C16.2777 3.00156 15.1132 3 13.4 3Z" fill="currentColor"></path> </g></svg>
                        </a>
                        <a href="https://www.facebook.com/arelyshopbo" target="_blank" class="text-gray-400 hover:text-white">
                           <svg class="w-6 h-6" viewBox="-5 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="currentColor"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <title>facebook [#176]</title> <desc>Created with Sketch.</desc> <defs> </defs> <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="Dribbble-Light-Preview" transform="translate(-385.000000, -7399.000000)" fill="currentColor"> <g id="icons" transform="translate(56.000000, 160.000000)"> <path d="M335.821282,7259 L335.821282,7250 L338.553693,7250 L339,7246 L335.821282,7246 L335.821282,7244.052 C335.821282,7243.022 335.847593,7242 337.286884,7242 L338.744689,7242 L338.744689,7239.14 C338.744689,7239.097 337.492497,7239 336.225687,7239 C333.580004,7239 331.923407,7240.657 331.923407,7243.7 L331.923407,7246 L329,7246 L329,7250 L331.923407,7250 L331.923407,7259 L335.821282,7259 Z" id="facebook-[#176]"> </path> </g> </g> </g> </g></svg>
                        </a>
                        <a href="https://youtube.com/@diegofloresfilmmaker1168?si=ezBrvwsZyq8vD4fY" target="_blank" class="text-gray-400 hover:text-white">
                           <svg class="w-6 h-6" viewBox="0 -3 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="currentColor"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <title>youtube [#168]</title> <desc>Created with Sketch.</desc> <defs> </defs> <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="Dribbble-Light-Preview" transform="translate(-300.000000, -7442.000000)" fill="currentColor"> <g id="icons" transform="translate(56.000000, 160.000000)"> <path d="M251.988432,7291.58588 L251.988432,7285.97425 C253.980638,7286.91168 255.523602,7287.8172 257.348463,7288.79353 C255.843351,7289.62824 253.980638,7290.56468 251.988432,7291.58588 M263.090998,7283.18289 C262.747343,7282.73013 262.161634,7282.37809 261.538073,7282.26141 C259.705243,7281.91336 248.270974,7281.91237 246.439141,7282.26141 C245.939097,7282.35515 245.493839,7282.58153 245.111335,7282.93357 C243.49964,7284.42947 244.004664,7292.45151 244.393145,7293.75096 C244.556505,7294.31342 244.767679,7294.71931 245.033639,7294.98558 C245.376298,7295.33761 245.845463,7295.57995 246.384355,7295.68865 C247.893451,7296.0008 255.668037,7296.17532 261.506198,7295.73552 C262.044094,7295.64178 262.520231,7295.39147 262.895762,7295.02447 C264.385932,7293.53455 264.28433,7285.06174 263.090998,7283.18289" id="youtube-[#168]"> </path> </g> </g> </g> </g></svg>
                        </a>
                        <a href="https://www.tiktok.com/@arelyshopbo" target="_blank" class="text-gray-400 hover:text-white">
                           <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <title>tiktok</title> <path d="M16.656 1.029c1.637-0.025 3.262-0.012 4.886-0.025 0.054 2.031 0.878 3.859 2.189 5.213l-0.002-0.002c1.411 1.271 3.247 2.095 5.271 2.235l0.028 0.002v5.036c-1.912-0.048-3.71-0.489-5.331-1.247l0.082 0.034c-0.784-0.377-1.447-0.764-2.077-1.196l0.052 0.034c-0.012 3.649 0.012 7.298-0.025 10.934-0.103 1.853-0.719 3.543-1.707 4.954l0.020-0.031c-1.652 2.366-4.328 3.919-7.371 4.011l-0.014 0c-0.123 0.006-0.268 0.009-0.414 0.009-1.73 0-3.347-0.482-4.725-1.319l0.040 0.023c-2.508-1.509-4.238-4.091-4.558-7.094l-0.004-0.041c-0.025-0.625-0.037-1.25-0.012-1.862 0.49-4.779 4.494-8.476 9.361-8.476 0.547 0 1.083 0.047 1.604 0.136l-0.056-0.008c0.025 1.849-0.050 3.699-0.050 5.548-0.423-0.153-0.911-0.242-1.42-0.242-1.868 0-3.457 1.194-4.045 2.861l-0.009 0.030c-0.133 0.427-0.21 0.918-0.21 1.426 0 0.206 0.013 0.41 0.037 0.61l-0.002-0.024c0.332 2.046 2.086 3.59 4.201 3.59 0.061 0 0.121-0.001 0.181-0.004l-0.009 0c1.463-0.044 2.733-0.831 3.451-1.994l0.010-0.018c0.267-0.372 0.45-0.822 0.511-1.311l0.001-0.014c0.125-2.237 0.075-4.461 0.087-6.698 0.012-5.036-0.012-10.060 0.025-15.083z"></path></g></svg>
                        </a>
                        <a href="https://wa.me/59167500044" target="_blank" class="text-gray-400 hover:text-white">
                           <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="currentColor" viewBox="0 0 16 16">
                                <path d="M13.601 2.326A7.854 7.854 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.933 7.933 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.898 7.898 0 0 0 13.6 2.326zM7.994 14.521a6.573 6.573 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.557 6.557 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592zm3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.068-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198 0-.307.099-.405.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.729.729 0 0 0-.529.247c-.182.198-.691.677-.691 1.654 0 .977.71 1.916.81 2.049.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232z"/>
                            </svg>
                        </a>
                    </div>
                </div>
            </div>
            <div class="mt-8 border-t border-gray-700 pt-6 text-center text-sm text-gray-400">
                <p>© <span id="current-year">2025</span> Arelyshop.com. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Global state
            let allProducts = []; // Master list of all products
            let cart = [];

            // --- Element Selectors ---
            const yearSpan = document.getElementById('current-year');
            const cartFlyout = document.getElementById('cart-flyout');
            const cartOverlay = document.getElementById('cart-overlay');
            const closeCartBtn = document.getElementById('close-cart-btn');
            const mobileCartBtn = document.getElementById('mobile-cart-btn');
            const desktopCartBtn = document.getElementById('desktop-cart-btn');
            const cartItemsContainer = document.getElementById('cart-items-container');
            const cartTotalEl = document.getElementById('cart-total');
            const mobileCartCount = document.getElementById('mobile-cart-count');
            const desktopCartCount = document.getElementById('desktop-cart-count');
            const whatsappOrderBtn = document.getElementById('whatsapp-order-btn');
            const mobileSearchInput = document.getElementById('mobile-search-input');
            const desktopSearchInput = document.getElementById('desktop-search-input');
            const mobileSearchResults = document.getElementById('mobile-search-results');
            const desktopSearchResults = document.getElementById('desktop-search-results');


            // --- Initial Setup ---
            if(yearSpan) {
                yearSpan.textContent = new Date().getFullYear();
            }

            // --- Product & Filter Logic ---
            async function initializeShop() {
                const loadingMessage = document.getElementById('loading-message');
                try {
                    const response = await fetch('/.netlify/functions/get-products');
                    if (!response.ok) {
                        throw new Error(`Error HTTP: ${response.status}`);
                    }
                    allProducts = await response.json();
                    displayProducts(allProducts);
                    populateFilterMenus(allProducts);
                } catch (error) {
                    console.error('Error fetching products:', error);
                    loadingMessage.textContent = 'Error al cargar los productos. Por favor, intenta de nuevo más tarde.';
                    loadingMessage.classList.add('text-red-500');
                }
            }
            
            function populateFilterMenus(products) {
                const categories = [...new Set(products.map(p => p.category).filter(Boolean))].sort();
                const brands = [...new Set(products.map(p => p.brand).filter(Boolean))].sort();

                const categoryMenuDesktop = document.getElementById('desktop-categories-submenu');
                const categoryMenuMobile = document.getElementById('mobile-categories-submenu');
                const brandMenuDesktop = document.getElementById('desktop-marcas-submenu');
                const brandMenuMobile = document.getElementById('mobile-marcas-submenu');

                // Populate Categories
                const categoryLinks = categories.map(category => 
                    `<a href="#" class="block pl-6 pr-4 py-2 text-sm text-gray-700 hover:bg-gray-100 filter-link" data-type="category" data-value="${category}">${category}</a>`
                ).join('');
                categoryMenuDesktop.innerHTML = categoryLinks;
                categoryMenuMobile.innerHTML = categoryLinks.replace(/pl-6/g, 'py-2 px-4'); // Adjust padding for mobile
                
                // Populate Brands
                const brandLinks = brands.map(brand => 
                    `<a href="#" class="block pl-6 pr-4 py-2 text-sm text-gray-700 hover:bg-gray-100 filter-link" data-type="brand" data-value="${brand}">${brand}</a>`
                ).join('');
                brandMenuDesktop.innerHTML = brandLinks;
                brandMenuMobile.innerHTML = brandLinks.replace(/pl-6/g, 'py-2 px-4');

                // Add event listeners to all new filter links
                document.querySelectorAll('.filter-link').forEach(link => {
                    link.addEventListener('click', (e) => {
                        e.preventDefault();
                        const type = e.target.dataset.type;
                        const value = e.target.dataset.value;
                        const filteredProducts = allProducts.filter(p => p[type] === value);
                        displayProducts(filteredProducts);
                        closeSidenav(); // Close mobile menu on selection
                    });
                });
            }


            function displayProducts(products) {
                const container = document.getElementById('product-grid');
                if (!container) return;

                container.innerHTML = ''; // Clear previous products or loading message

                if (products.length === 0) {
                    container.innerHTML = '<p class="col-span-full text-center text-gray-500">No se encontraron productos que coincidan con tu búsqueda.</p>';
                    return;
                }

                products.forEach(product => {
                    let priceHTML = '';
                    let discountBadgeHTML = '';

                    // Check for a valid discount price
                    if (product.discount_price && product.sale_price && product.discount_price < product.sale_price) {
                        const discountPercentage = Math.round(((product.sale_price - product.discount_price) / product.sale_price) * 100);
                        
                        priceHTML = `
                            <div class="mt-1 flex items-baseline justify-center space-x-2 flex-wrap">
                                <span class="text-gray-500 line-through text-sm">Bs. ${Math.round(product.sale_price)}</span>
                                <span class="font-bold text-red-600 text-base">Bs. ${Math.round(product.discount_price)}</span>
                            </div>
                        `;

                        discountBadgeHTML = `
                            <div class="absolute bottom-1 left-1 w-12 h-auto z-10">
                                <svg id="Capa_2" data-name="Capa 2" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 302.44 402.78">
                                    <defs>
                                        <linearGradient id="Degradado_sin_nombre_13_new_${product.id}" data-name="Degradado sin nombre 13" x1="151.22" y1="402.78" x2="151.22" y2="0" gradientUnits="userSpaceOnUse">
                                            <stop offset="0" stop-color="#e20919"/>
                                            <stop offset="1" stop-color="#fb6404"/>
                                        </linearGradient>
                                    </defs>
                                    <g>
                                        <path fill="url(#Degradado_sin_nombre_13_new_${product.id})" fill-rule="evenodd" d="M61.01,179.91C51.45,94.39,101.43,34.24,195.1,0c-57.38,74.43,48.9,155.06,54.76,232.36,13.74-23.43,21.53-54.72,23.08-96.52,70.24,110.2,12.01,290.3-142.57,264.42-14.19-2.37-27.87-6.85-40.33-13.52C33.68,356.62,0,291.04,0,228.4c0-39.92,17.08-75.57,39.18-103.89,2.95,27.75,9.24,48.44,21.83,55.4Z"/>
                                    </g>
                                    <text x="151.22" y="280" font-family="Inter, sans-serif" font-weight="bold" fill="white" text-anchor="middle">
                                        <tspan font-size="80">${discountPercentage}%</tspan>
                                        <tspan x="151.22" dy="80" font-size="90">OFF</tspan>
                                    </text>
                                </svg>
                            </div>
                        `;

                    } else {
                        priceHTML = `<p class="text-gray-600 mt-1 text-center font-semibold">Bs. ${Math.round(product.sale_price)}</p>`;
                    }

                    const productCard = document.createElement('div');
                    productCard.className = 'bg-white rounded-lg shadow-md overflow-hidden group flex flex-col';
                    productCard.innerHTML = `
                        <a href="product.html?id=${product.id}" class="block">
                            <div class="aspect-square overflow-hidden relative">
                                ${discountBadgeHTML}
                                <img src="${product.photo_url_1 || 'https://placehold.co/400x400/e2e8f0/cbd5e0?text=Producto'}" alt="${product.name}" class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-110" onerror="this.onerror=null;this.src='https://placehold.co/400x400/e2e8f0/cbd5e0?text=Error';">
                            </div>
                            <div class="p-2 pb-0 text-center">
                                <div class="product-title-container">
                                    <h3 class="font-semibold text-gray-800 text-sm">${product.name}</h3>
                                </div>
                                ${priceHTML}
                            </div>
                        </a>
                        <div class="mt-auto p-2">
                            <button class="add-to-cart-btn w-full bg-black text-white text-sm py-1.5 px-1 rounded-lg hover:bg-gray-800 transition-colors" data-name="${product.name}" data-price="${product.discount_price || product.sale_price}">
                                Agregar al Carrito
                            </button>
                        </div>
                    `;
                    container.appendChild(productCard);
                });

                // Re-bind events to the new buttons
                document.querySelectorAll('.add-to-cart-btn').forEach(button => {
                    button.addEventListener('click', handleAddToCart);
                });
            }
            
            // --- Search Popup Logic ---
            function handleSearchPopup(event) {
                const searchTerm = event.target.value.toLowerCase();
                const resultsContainer = event.target.id === 'mobile-search-input' ? mobileSearchResults : desktopSearchResults;
                
                resultsContainer.innerHTML = '';

                if (searchTerm.length === 0) {
                    resultsContainer.innerHTML = `<p class="p-4 text-center text-sm text-gray-500">Comienza a escribir para ver resultados.</p>`;
                    return; // Don't hide, just show the message
                }

                const filteredProducts = allProducts.filter(product =>
                    product.name.toLowerCase().includes(searchTerm)
                );

                if (filteredProducts.length > 0) {
                    filteredProducts.slice(0, 10).forEach(product => { // Show max 10 results
                        const resultItem = document.createElement('a');
                        resultItem.href = `product.html?id=${product.id}`; // Link to product page
                        resultItem.className = 'flex items-center p-2 hover:bg-gray-100 transition-colors';
                        
                        const finalPrice = product.discount_price || product.sale_price;

                        resultItem.innerHTML = `
                            <img src="${product.photo_url_1 || 'https://placehold.co/100x100/e2e8f0/cbd5e0?text=Img'}" alt="${product.name}" class="w-12 h-12 object-cover rounded-md mr-4">
                            <div class="flex-1">
                                <p class="text-sm font-semibold text-gray-800">${product.name}</p>
                                <p class="text-xs text-gray-600">Bs. ${Math.round(finalPrice)}</p>
                            </div>
                        `;
                        resultsContainer.appendChild(resultItem);
                    });
                } else {
                    resultsContainer.innerHTML = `<p class="p-4 text-center text-sm text-gray-500">No se encontraron productos.</p>`;
                }
            }
            
            function showResults(event) {
                const resultsContainer = event.target.id === 'mobile-search-input' ? mobileSearchResults : desktopSearchResults;
                handleSearchPopup(event); // Populate results
                resultsContainer.classList.remove('hidden');
            }

            function hideResults(event) {
                 const resultsContainer = event.target.id === 'mobile-search-input' ? mobileSearchResults : desktopSearchResults;
                 // Delay hiding to allow clicks on results to register
                 setTimeout(() => {
                     resultsContainer.classList.add('hidden');
                 }, 200);
            }
            
            mobileSearchInput.addEventListener('input', handleSearchPopup);
            desktopSearchInput.addEventListener('input', handleSearchPopup);
            
            mobileSearchInput.addEventListener('focus', showResults);
            desktopSearchInput.addEventListener('focus', showResults);
            
            mobileSearchInput.addEventListener('blur', hideResults);
            desktopSearchInput.addEventListener('blur', hideResults);

            // --- Cart interaction logic ---
            const isMobile = () => window.innerWidth < 768;

            function adjustFlyoutPosition(flyoutEl, overlayEl) {
                const header = document.querySelector('header');
                if (!header || !flyoutEl) return;
                
                const headerRect = header.getBoundingClientRect();
                const totalTopOffset = headerRect.bottom;
                const availableHeight = window.innerHeight - totalTopOffset;

                flyoutEl.style.top = `${totalTopOffset}px`;
                flyoutEl.style.height = `${availableHeight}px`;
                if (overlayEl) {
                    overlayEl.style.top = `${totalTopOffset}px`;
                    overlayEl.style.height = `${availableHeight}px`;
                }
            }
            
            const openCart = () => {
                if (isMobile()) {
                    cartFlyout.classList.remove('md:max-w-sm');
                    cartFlyout.classList.add('w-72');
                    adjustFlyoutPosition(cartFlyout, cartOverlay);
                } else {
                    cartFlyout.classList.remove('w-72');
                    cartFlyout.classList.add('md:max-w-sm');
                    cartFlyout.style.top = '0px';
                    cartFlyout.style.height = '100%';
                    cartOverlay.style.top = '0px';
                    cartOverlay.style.height = '100%';
                }
                
                cartFlyout.classList.remove('translate-x-full');
                cartOverlay.classList.remove('hidden');
                document.body.style.overflow = 'hidden';
            };

            const closeCart = () => {
                cartFlyout.classList.add('translate-x-full');
                cartOverlay.classList.add('hidden');
                document.body.style.overflow = '';
            };
            
             const renderCart = () => {
                cartItemsContainer.innerHTML = ''; // Clear current items
                if (cart.length === 0) {
                    cartItemsContainer.innerHTML = '<p class="text-gray-500 text-center">Tu carrito está vacío.</p>';
                } else {
                    cart.forEach((item, index) => {
                        const cartItem = document.createElement('div');
                        cartItem.className = 'flex justify-between items-center mb-4 pb-4 border-b';
                        cartItem.innerHTML = `
                            <div>
                                <h4 class="font-semibold">${item.name}</h4>
                                <p class="text-gray-600">Bs. ${parseFloat(item.price).toFixed(2)}</p>
                            </div>
                            <button class="remove-from-cart-btn text-red-500 hover:text-red-700" data-index="${index}">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z" clip-rule="evenodd" /></svg>
                            </button>
                        `;
                        cartItemsContainer.appendChild(cartItem);
                    });
                }
                updateCartTotal();
                updateCartCount();
            };

            const updateCartTotal = () => {
                const total = cart.reduce((sum, item) => sum + parseFloat(item.price), 0);
                cartTotalEl.textContent = `Bs. ${total.toFixed(2)}`;
            };

            const updateCartCount = () => {
                const count = cart.length;
                mobileCartCount.textContent = count;
                desktopCartCount.textContent = count;
            };

            const handleAddToCart = (e) => {
                const button = e.currentTarget;
                const name = button.dataset.name;
                const price = parseFloat(button.dataset.price);
                cart.push({ name, price });
                renderCart();
                
                const cartIcons = [document.getElementById('mobile-cart-btn'), document.getElementById('desktop-cart-btn')];
                cartIcons.forEach(icon => {
                    if (icon) {
                        icon.classList.add('cart-bounce-animation');
                        setTimeout(() => icon.classList.remove('cart-bounce-animation'), 500);
                    }
                });
            };
            
            const handleRemoveFromCart = (e) => {
                 if (e.target.closest('.remove-from-cart-btn')) {
                    const button = e.target.closest('.remove-from-cart-btn');
                    const index = parseInt(button.dataset.index, 10);
                    cart.splice(index, 1);
                    renderCart();
                }
            };
            
            const handleWhatsappOrder = () => {
                if (cart.length === 0) {
                    alert("Tu carrito está vacío. Agrega productos antes de realizar un pedido.");
                    return;
                }

                let message = '¡Hola! Quisiera hacer el siguiente pedido:\n\n';
                cart.forEach(item => {
                    message += `- ${item.name} (Bs. ${parseFloat(item.price).toFixed(2)})\n`;
                });

                const total = cart.reduce((sum, item) => sum + parseFloat(item.price), 0);
                message += `\n*Total a pagar: Bs. ${total.toFixed(2)}*`;

                const whatsappNumber = '59167500044';
                const whatsappUrl = `https://wa.me/${whatsappNumber}?text=${encodeURIComponent(message)}`;
                
                window.open(whatsappUrl, '_blank');
            };
            
            // Initial event listeners for cart
            if(mobileCartBtn) mobileCartBtn.addEventListener('click', openCart);
            if(desktopCartBtn) desktopCartBtn.addEventListener('click', openCart);
            if(closeCartBtn) closeCartBtn.addEventListener('click', closeCart);
            if(cartOverlay) cartOverlay.addEventListener('click', closeCart);
            cartItemsContainer.addEventListener('click', handleRemoveFromCart);
            if(whatsappOrderBtn) whatsappOrderBtn.addEventListener('click', handleWhatsappOrder);
            
            // --- Sidenav Logic ---
            const mobileMenuBtn = document.getElementById('mobile-menu-btn');
            const sidenav = document.getElementById('sidenav');
            const sidenavOverlay = document.getElementById('sidenav-overlay');
            const closeSidenavBtn = document.getElementById('close-sidenav');

            const openSidenav = () => {
                adjustFlyoutPosition(sidenav, sidenavOverlay);
                sidenav.classList.remove('-translate-x-full');
                sidenavOverlay.classList.remove('hidden');
                document.body.style.overflow = 'hidden';
            };

            const closeSidenav = () => {
                sidenav.classList.add('-translate-x-full');
                sidenavOverlay.classList.add('hidden');
                document.body.style.overflow = '';
            };
            
            if (mobileMenuBtn) mobileMenuBtn.addEventListener('click', openSidenav);
            if (closeSidenavBtn) closeSidenavBtn.addEventListener('click', closeSidenav);
            if (sidenavOverlay) sidenavOverlay.addEventListener('click', closeSidenav);

            // Banner Carousel Logic
            const bannerTrack = document.querySelector('.banner-carousel-track');
            if (bannerTrack) {
                const bannerSlides = Array.from(bannerTrack.children);
                const bannerNextButton = document.getElementById('banner-nextBtn');
                const bannerPrevButton = document.getElementById('banner-prevBtn');
                const bannerDotsContainer = document.getElementById('banner-dots-container');

                if (bannerSlides.length > 0) {
                    let slideWidth = bannerSlides[0].getBoundingClientRect().width;
                    let currentIndex = 0;

                    const updateCarousel = () => {
                        if(!bannerTrack) return;
                        bannerTrack.style.transform = 'translateX(-' + slideWidth * currentIndex + 'px)';
                        
                        const dots = Array.from(bannerDotsContainer.children);
                        dots.forEach((dot, index) => {
                            if (index === currentIndex) {
                                dot.classList.add('bg-white');
                                dot.classList.remove('bg-white/50');
                            } else {
                                dot.classList.remove('bg-white');
                                dot.classList.add('bg-white/50');
                            }
                        });
                    };
                    
                    function handleResizeCarousel() {
                        slideWidth = bannerSlides[0].getBoundingClientRect().width;
                        updateCarousel();
                    }

                    window.addEventListener('resize', handleResizeCarousel);

                    bannerSlides.forEach((slide, index) => {
                        const dot = document.createElement('button');
                        dot.classList.add('h-2', 'w-2', 'rounded-full', 'bg-white/50', 'transition');
                        if (index === 0) dot.classList.add('bg-white');
                        dot.addEventListener('click', () => {
                            currentIndex = index;
                            updateCarousel();
                        });
                        bannerDotsContainer.appendChild(dot);
                    });

                    bannerPrevButton.addEventListener('click', e => {
                        currentIndex = (currentIndex === 0) ? bannerSlides.length - 1 : currentIndex - 1;
                        updateCarousel();
                    });

                    bannerNextButton.addEventListener('click', e => {
                        currentIndex = (currentIndex === bannerSlides.length - 1) ? 0 : currentIndex + 1;
                        updateCarousel();
                    });

                    setInterval(() => {
                        if (bannerNextButton) bannerNextButton.click();
                    }, 5000);
                }
            }

            // Mobile accordions in sidenav
            const mobileCategoriesBtn = document.getElementById('mobile-categories-btn');
            const mobileCategoriesSubmenu = document.getElementById('mobile-categories-submenu');
            const mobileCategoriesArrow = document.getElementById('mobile-categories-arrow');

            if (mobileCategoriesBtn && mobileCategoriesSubmenu && mobileCategoriesArrow) {
                mobileCategoriesBtn.addEventListener('click', () => {
                    mobileCategoriesSubmenu.classList.toggle('hidden');
                    mobileCategoriesArrow.classList.toggle('rotate-180');
                });
            }

            const mobileMarcasBtn = document.getElementById('mobile-marcas-btn');
            const mobileMarcasSubmenu = document.getElementById('mobile-marcas-submenu');
            const mobileMarcasArrow = document.getElementById('mobile-marcas-arrow');

            if (mobileMarcasBtn && mobileMarcasSubmenu && mobileMarcasArrow) {
                mobileMarcasBtn.addEventListener('click', () => {
                    mobileMarcasSubmenu.classList.toggle('hidden');
                    mobileMarcasArrow.classList.toggle('rotate-180');
                });
            }

            // --- Desktop Dropdown Logic ---
            const desktopCategoriesContainer = document.getElementById('desktop-categories-dropdown-container');
            const desktopCategoriesSubmenu = document.getElementById('desktop-categories-submenu');
            const desktopMarcasContainer = document.getElementById('desktop-marcas-dropdown-container');
            const desktopMarcasSubmenu = document.getElementById('desktop-marcas-submenu');

            if (desktopCategoriesContainer && desktopCategoriesSubmenu) {
                desktopCategoriesContainer.addEventListener('mouseenter', () => desktopCategoriesSubmenu.classList.remove('hidden'));
                desktopCategoriesContainer.addEventListener('mouseleave', () => desktopCategoriesSubmenu.classList.add('hidden'));
            }

            if (desktopMarcasContainer && desktopMarcasSubmenu) {
                desktopMarcasContainer.addEventListener('mouseenter', () => desktopMarcasSubmenu.classList.remove('hidden'));
                desktopMarcasContainer.addEventListener('mouseleave', () => desktopMarcasSubmenu.classList.add('hidden'));
            }
            
             // --- Promo Banner Logic ---
            const promoBannerCloseBtn = document.querySelector('#promo-banner button');
            if (promoBannerCloseBtn) {
                promoBannerCloseBtn.addEventListener('click', () => {
                    setTimeout(() => {
                        const isCartOpen = !cartOverlay.classList.contains('hidden');
                        const isSidenavOpen = !sidenavOverlay.classList.contains('hidden');
                        if (isCartOpen && isMobile()) adjustFlyoutPosition(cartFlyout, cartOverlay);
                        if (isSidenavOpen && isMobile()) adjustFlyoutPosition(sidenav, sidenavOverlay);
                    }, 50); 
                });
            }

            // --- Unified Resize Handler ---
            window.addEventListener('resize', () => {
                const isCartOpen = !cartOverlay.classList.contains('hidden');
                const isSidenavOpen = !sidenavOverlay.classList.contains('hidden');
                
                if(isMobile()) {
                    if (isSidenavOpen) adjustFlyoutPosition(sidenav, sidenavOverlay);
                    if (isCartOpen) adjustFlyoutPosition(cartFlyout, cartOverlay);
                } else {
                    if (isSidenavOpen) closeSidenav();
                    if (isCartOpen) {
                        cartFlyout.classList.remove('w-72');
                        cartFlyout.classList.add('md:max-w-sm');
                        cartFlyout.style.top = '0px';
                        cartFlyout.style.height = '100%';
                        cartOverlay.style.top = '0px';
                        cartOverlay.style.height = '100%';
                    }
                }
            });

            // Initial call to fetch products and set up the shop
            initializeShop();
        });
    </script>
</body>
</html>

